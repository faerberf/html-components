<link rel="import" href="../utility/safe_html.html">
<link rel="import" href="../utility/item_template.html">

<polymer-element name="h-listbox">
  <template>
    <link rel="stylesheet" href="listbox.css">
    
    <div id="hidden">
      <content></content>
    </div>
    
    <table id="container" style="width:{{width}}px; height:{{height}}px">
      <tbody>
        <tr>
          <template if="{{sidebarPosition == 'left'}}">
            <td>
              <button disabled?="{{selectedItems.isEmpty}}" title="{{moveUpLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onUpButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" title="{{moveTopLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onTopButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" title="{{moveDownLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onDownButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" title="{{moveBottomLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onBottomButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
            </td>
          </template>
          
          <td>
            <template if="{{header != null}}">
              <div id="header">
                <h-safe-html content="{{header}}"></h-safe-html>
              </div>
            </template>
            
            <ul id="item-list" style="width:{{width - sidebarWidth}}px; height:{{height}}px">
              <template repeat="{{item in data}}">
                <li class="{{ {'selected': selectedItems.contains(item)} }}" on-mouseover="{{onItemMouseOver}}" on-mouseout="{{onItemMouseOut}}" on-click="{{onItemClicked}}">
                  <template if="{{template == null}}">
                    {{item}}
                  </template>
                  <template if="{{template != null}}">
                    <h-item-template template="{{template}}" model="{{item}}"></h-item-template>
                  </template>
                </li>
              </template>
            </ul>
          </td>
          
          <template if="{{sidebarPosition == 'right'}}">
            <td>
              <button disabled?="{{selectedItems.isEmpty}}" class="{{ {'disabled': selectedItems.isEmpty} }}" title="{{moveUpLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onUpButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" class="{{ {'disabled': selectedItems.isEmpty} }}" title="{{moveTopLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onTopButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" class="{{ {'disabled': selectedItems.isEmpty} }}" title="{{moveDownLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onDownButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
              <button disabled?="{{selectedItems.isEmpty}}" class="{{ {'disabled': selectedItems.isEmpty} }}" title="{{moveBottomLabel}}" on-mouseover="{{onButtonMouseOver}}" on-mouseout="{{onButtonMouseOut}}" on-click="{{onBottomButtonClicked}}">
                <span></span>
                <span>ui-button</span>
              </button>
            </td>
          </template>
        </tr>
      </tbody>
    </table>
  </template>
  
  <script type="application/dart" src="listbox.dart"></script>
</polymer-element>